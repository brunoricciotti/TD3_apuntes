<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0044)http://www.bravegnu.org/gnu-eprog/index.html -->
<html xmlns:t="http://nwalsh.com/docbook/xsl/template/1.0" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:hl="http://xslthl.sf.net"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="generator" content="HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">

<title>Embedded Programming with the GNU Toolchain</title>
<link rel="stylesheet" href="./Embedded Programming with the GNU Toolchain_files/style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="http://www.bravegnu.org/gnu-eprog/index.html" title="Embedded Programming with the GNU Toolchain">
<link rel="next" href="http://www.bravegnu.org/gnu-eprog/arm-lab.html" title="2. Setting up the ARM Lab">
<link href="http://www.bravegnu.org/gnu-eprog/revision.rss" type="application/rss+xml" rel="alternate" title="Revision updates">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="body"><span id="forkongithub"><a href="https://github.com/bravegnu/gnu-eprog">Fork me on
GitHub</a></span>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center">Embedded Programming with the GNU
Toolchain</th>
</tr>
<tr>
<td width="20%" align="left">&nbsp;</td>
<th width="60%" align="center">&nbsp;</th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="http://www.bravegnu.org/gnu-eprog/arm-lab.html"><img src="./Embedded Programming with the GNU Toolchain_files/next.png" alt="Next" width="48" height="48"></a></td>
</tr>
</tbody></table>
<hr></div>
<div lang="en" class="article" title="Embedded Programming with the GNU Toolchain">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="d0e3" id="d0e3"></a>Embedded Programming
with the GNU Toolchain</h2>
</div>
<div>
<div class="author">
<h3 class="author"><span class="firstname">Vijay</span>
<span class="othername">Kumar</span> <span class="surname">B.</span></h3>
<code class="email">&lt;<a class="email" href="mailto:vijaykumar@bravegnu.org">vijaykumar@bravegnu.org</a>&gt;</code></div>
</div>
<div><a href="http://www.bravegnu.org/gnu-eprog/revhistory.html">Revision History</a></div>
</div>
<hr></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/index.html#intro">1.
Introduction</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/arm-lab.html">2. Setting up the
ARM Lab</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/arm-lab.html#_qemu_arm">2.1.
Qemu ARM</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/arm-lab.html#_installing_qemu_in_debian">2.2. Installing Qemu in
Debian</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/arm-lab.html#_installing_gnu_toolchain_for_arm">2.3. Installing
GNU Toolchain for ARM</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/hello-arm.html">3. Hello
ARM</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/hello-arm.html#_building_the_binary">3.1. Building the
Binary</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/hello-arm.html#_executing_in_qemu">3.2. Executing in
Qemu</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/hello-arm.html#_more_monitor_commands">3.3. More Monitor
Commands</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/asm-directives.html">4. More
Assembler Directives</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/asm-directives.html#_sum_an_array">4.1. Sum an
Array</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/asm-directives.html#_string_length">4.2. String
Length</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/using-ram.html">5. Using
RAM</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/linker.html">6.
Linker</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/linker.html#_symbol_resolution">6.1. Symbol
Resolution</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/linker.html#_relocation">6.2.
Relocation</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/lds.html">7. Linker Script
File</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/lds.html#_linker_script_example">7.1. Linker Script
Example</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/data-in-ram.html">8. Data in
RAM, Example</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/data-in-ram.html#_ram_is_volatile">8.1. RAM is
Volatile!</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/data-in-ram.html#_specifying_load_address">8.2. Specifying Load
Address</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/data-in-ram.html#_copying_literal_data_literal_to_ram">8.3.
Copying <code class="literal">.data</code> to RAM</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/exc-handle.html">9. Exception
Handling</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-startup.html">10. C
Startup</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-startup.html#_stack">10.1.
Stack</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-startup.html#_global_variables">10.2. Global
Variables</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-startup.html#_read_only_data">10.3. Read-only
Data</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-startup.html#_startup_code">10.4. Startup Code</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/c-library.html">11. Using the C
Library</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/inline-assembly.html">12. Inline
Assembly</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/contributing.html">13.
Contributing</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/credits.html">14.
Credits</a></span></dt>
<dd>
<dl>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/credits.html#_people">14.1.
People</a></span></dt>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/credits.html#_tools">14.2.
Tools</a></span></dt>
</dl>
</dd>
<dt><span class="section"><a href="http://www.bravegnu.org/gnu-eprog/copyright.html">15. Tutorial
Copyright</a></span></dt>
<dt><span class="appendix"><a href="http://www.bravegnu.org/gnu-eprog/arm-prog-model.html">A. ARM
Programmer’s Model</a></span></dt>
<dt><span class="appendix"><a href="http://www.bravegnu.org/gnu-eprog/arm-iset.html">B. ARM
Instruction Set</a></span></dt>
<dt><span class="appendix"><a href="http://www.bravegnu.org/gnu-eprog/arm-stacks.html">C. ARM
Stacks</a></span></dt>
</dl>
</div>
<div>
<h2 class="title" style="clear:both">Workshop Alert!</h2>
The author of this tutorial is doing a workshop on "ARM Bare Metal Programming", in Chennai, India.
If you are interested in the workshop, please visit <a href="https://in.explara.com/e/arm-bare-metal-programming">
https://in.explara.com/e/arm-bare-metal-programming</a>, to book your ticket. To get notified about
future workshops, follow us on Twitter <a href="http://twitter.com/zilogic">@zilogic</a>.
</div>
<div class="section" title="1. Introduction">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="intro" id="intro"></a>1.&nbsp;Introduction</h2>
</div>
</div>
</div>
<p>The GNU toolchain is increasingly being used for deeply embedded
software development. This type of software development is also
called standalone C programming and bare metal C programming.
Standalone C programming brings along with it new problems, and
dealing with them requires a deeper understanding of the GNU
toolchain. The GNU toolchain’s manuals provide excellent
information on the toolchain, but from the perspective of the
toolchain, rather than the perspective of the problem. Well, that
is how manuals are supposed to be written anyway. The result is
that the answers to common problems are scattered all over, and new
users of the GNU toolchain are left baffled.</p>
<p>This tutorial attempts to bridge the gap by explaining the tools
from the perspective of the problem. Hopefully, this should enable
more people to use the GNU toolchain for their embedded
projects.</p>
<p>For the purpose of this tutorial, an ARM based embedded system
is emulated using Qemu. With this you can learn the GNU toolchain
from the comforts of your desktop, without having to invest on
hardware. This tutorial itself does not teach the ARM instruction
set. It is supposed to be used with other books and on-line
tutorials like:</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">ARM Assembler - <a class="ulink" href="http://www.heyrick.co.uk/assembler/" target="_top">http://www.heyrick.co.uk/assembler/</a></li>
<li class="listitem">ARM Assembly Language Programming - <a class="ulink" href="http://www.arm.com/miscPDFs/9658.pdf" target="_top">http://www.arm.com/miscPDFs/9658.pdf</a></li>
</ul>
</div>
<p>But for the convenience of the reader, frequently used ARM
instructions are listed in the appendix.</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left">&nbsp;</td>
<td width="20%" align="center">&nbsp;</td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="http://www.bravegnu.org/gnu-eprog/arm-lab.html"><img src="./Embedded Programming with the GNU Toolchain_files/next.png" alt="Next" width="48" height="48"></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">&nbsp;</td>
<td width="20%" align="center">&nbsp;</td>
<td width="40%" align="right" valign="top">&nbsp;2.&nbsp;Setting up
the ARM Lab</td>
</tr>
</tbody></table>
</div>
</div>


<div style="display: none" class="ubey-RecordingScreen-count-down ubey-RecordingScreen-count-down-container">
    <style>
        .ubey-RecordingScreen-count-down-container {
            position: fixed;
            height: 100vh;
            width: 100vw;
            top: 0;
            left: 0;
            z-index: 9999999999999;
            background-color: rgba(0, 0, 0, 0.2);
        }

        .ubey-RecordingScreen-count-down-content {
            position: absolute;
            display: flex;
            top: 50%;
            left: 50%;
            justify-content: center;
            align-items: center;
            color: white;
            height: 15em;
            width: 15em;
            transform: translate(-50%, -100%);
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 50%;
        }

        #ubey-RecordingScreen-count-count {
            font-size: 14em;
            transform: translateY(-2%);
        }
    </style>
    <div class="ubey-RecordingScreen-count-down-content">
        <span id="ubey-RecordingScreen-count-count"></span>
    </div>
</div></body></html>